<% include ../partials/header %> <% include ../partials/nav %>
<div class="container">
  <form class="mt-4" action="/notes/<%= note._id %>?_method=PUT" method="POST">
    <% errors.forEach( error => { %>
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
      <%= error.message || error %>
      <button
        type="button"
        class="close"
        data-dismiss="alert"
        aria-label="Close"
      >
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <% }) %>
    <div class="form-group">
      <label for="titleInput1">Title</label>
      <input
        type="text"
        value="<%= note.title %>"
        name="title"
        class="form-control"
        id="titleInput1"
        placeholder="title"
        required
      />
      
    </div>
    <div class="form-group">
      <label for="categorySelect1">Category</label>
      <select
        name="category"
        class="form-control"
        id="categorySelect1"
        required
      >
        <option>general</option>
        <option>html/css</option>
        <option>javascript</option>
        <option>node</option>
      </select>
    </div>

    <textarea id="summernote" name="body"><%= note.body %></textarea>

    <button class="btn btn-lg btn-dark" type="submit">Update Note</button>
  </form>
</div>

<% include ../partials/footer %>
<script>
  $(document).ready(function() {
    $('#summernote').summernote({
      placeholder: 'Enter your note..',
      tabsize: 4,
      height: 400
    })
    
    $('.popover-content').hide()
  })
</script>